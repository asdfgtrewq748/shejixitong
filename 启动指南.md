# 智能采掘设计系统 - 启动指南

## 环境要求

- **Node.js**: 18.0 或更高版本
- **npm**: 随 Node.js 安装
- **操作系统**: Windows 10/11

检查环境：
```powershell
node -v   # 应显示 v18.x.x 或更高
npm -v    # 应显示 9.x.x 或更高
```

---

## 一键安装依赖

```powershell
cd e:\xiangmu\shejixitong

# 安装前端依赖
cd frontend
npm install

# 安装后端依赖
cd ..\backend
npm install
```

---

## 启动服务

### 方式一：分开两个终端启动（推荐）

**终端 1 - 启动后端 (端口 3001)**
```powershell
cd e:\xiangmu\shejixitong\backend
npm run dev
```

**终端 2 - 启动前端 (端口 5173)**
```powershell
cd e:\xiangmu\shejixitong\frontend
npm run dev
```

### 方式二：一行命令同时启动

```powershell
# 后台启动后端，前台启动前端
Start-Process powershell -ArgumentList "-NoExit", "-Command", "cd e:\xiangmu\shejixitong\backend; npm run dev"
cd e:\xiangmu\shejixitong\frontend; npm run dev
```

---

## 访问地址

| 服务 | 地址 |
|------|------|
| 前端界面 | http://localhost:5173 |
| 后端 API | http://localhost:3001 |
| 健康检查 | http://localhost:3001/api/health |

---

## 停止服务

在对应终端按 `Ctrl + C` 停止服务。

---

## 常见问题

### 端口被占用

**前端端口冲突**
```powershell
cd e:\xiangmu\shejixitong\frontend
npm run dev -- --port 5174
```

**后端端口冲突**
修改 `backend/index.js` 中的端口号：
```javascript
const PORT = 3002;  // 改为其他端口
```

### npm 安装慢

使用国内镜像：
```powershell
npm config set registry https://registry.npmmirror.com
```

### 前端连不上后端

1. 确保后端已启动并显示 `Server running on port 3001`
2. 检查 `frontend/src/api.js` 中的 API 地址配置

---

## 开发模式特性

- **前端热更新**: 修改代码后浏览器自动刷新
- **后端热重载**: 使用 `npm run dev` 启动时，修改代码自动重启

---

## 构建生产版本

```powershell
cd e:\xiangmu\shejixitong\frontend
npm run build
```

构建产物在 `frontend/dist/` 目录，可部署到任意静态服务器。
